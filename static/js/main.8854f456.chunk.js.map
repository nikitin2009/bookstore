{"version":3,"sources":["reducers/books-list.js","reducers/books-form.js","reducers/filter.js","reducers/index.js","actions/fetch-books.js","actions/create-book.js","actions/remove-book.js","actions/index.js","REST/config.js","REST/api.js","sample-data/categories.js","components/CategoryFilter.js","components/Book.js","containers/BooksList.js","containers/BooksForm.js","components/Header.js","components/App.js","index.js"],"names":["booksList","state","action","undefined","books","loading","error","type","payload","concat","Object","toConsumableArray","filter","book","id","booksForm","arguments","length","combineReducers","fetchBooks","api","dispatch","then","data","catch","err","message","createBook","removeBook","removeBookFromList","alert","changeFilter","MAIN_URL","_fetchBooks","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","fetch","method","sent","status","Error","json","abrupt","stop","apply","this","_createBook","_callee2","_ref","title","category","_context2","headers","content-type","body","JSON","stringify","_x","_removeBook","_callee3","bookId","_context3","_x2","categories","CategoryFilter","handleFilterChange","react_default","createElement","Fragment","className","value","onChange","e","target","map","cat","key","Book","handleRemoveBook","onClick","BooksList","props","_this$props","removeBookDispatch","changeFilterDispatch","components_CategoryFilter","components_Book","Component","connect","_ref$booksList","_ref2","BooksForm","handleChange","_this","setState","defineProperty","name","handleSubmit","preventDefault","createBookDispatch","_this$state","errorMessage","submitButton","disabled","onSubmit","placeholder","required","React","_ref$booksForm","Header","href","App","components_Header","containers_BooksList","containers_BooksForm","store","createStore","reducer","ReactDom","render","es","src_components_App","document","getElementById"],"mappings":"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","file":"static/js/main.8854f456.chunk.js","sourcesContent":["const booksList = (state, action) => {\n  if (state === undefined) {\n    return {\n      books: [],\n      loading: true,\n      error: '',\n    };\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        books: [],\n        loading: true,\n        error: '',\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: action.payload,\n        loading: false,\n        error: '',\n      };\n\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        books: [],\n        loading: false,\n        error: action.payload,\n      };\n\n    case 'ADD_BOOK':\n      return {\n        books: [...state.books, action.payload],\n        loading: false,\n        error: '',\n      };\n\n    case 'REMOVE_BOOK':\n      return {\n        books: state.books.filter(book => book.id !== action.payload),\n        loading: false,\n        error: '',\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default booksList;\n","const booksForm = (state, action) => {\n\n  if (state === undefined) {\n    return {\n      loading: false,\n      error: '',\n    }\n  }\n\n  switch (action.type) {\n    case 'CREATE_BOOK_REQUESTED':\n      return {\n        loading: true,\n        error: '',\n      };\n\n    case 'CREATE_BOOK_SUCCESS':\n      return {\n        loading: false,\n        error: '',\n      };\n\n    case 'CREATE_BOOK_FAILURE':\n      return {\n        loading: false,\n        error: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default booksForm;","const filter = (state = '', action) => {\n  switch (action.type) {\n    case 'CHANGE_FILTER':\n      return action.filter;\n    default:\n      return state;\n  }\n};\n\nexport default filter;\n","import { combineReducers } from 'redux';\n\nimport booksList from './books-list';\nimport booksForm from './books-form';\nimport filter from './filter';\n\nexport default combineReducers({ booksList, filter, booksForm });\n","const booksRequested = () => ({\n  type: 'FETCH_BOOKS_REQUEST',\n});\n\nconst booksLoaded = newBooks => ({\n  type: 'FETCH_BOOKS_SUCCESS',\n  payload: newBooks,\n});\n\nconst booksError = error => ({\n  type: 'FETCH_BOOKS_FAILURE',\n  payload: error,\n});\n\nexport const fetchBooks = (api, dispatch) => () => {\n  dispatch(booksRequested());\n  api.fetchBooks()\n    .then(data => dispatch(booksLoaded(data)))\n    .catch(err => dispatch(booksError(err.message)));\n};","const requested = () => ({\n  type: 'CREATE_BOOK_REQUESTED',\n});\n\nconst success = () => ({\n  type: 'CREATE_BOOK_SUCCESS',\n});\n\nconst failure = error => ({\n  type: 'CREATE_BOOK_FAILURE',\n  payload: error,\n});\n\nconst addBook = book => ({\n  type: 'ADD_BOOK',\n  payload: book,\n});\n\nexport const createBook = (api, dispatch) => (book) => {\n  dispatch(requested());\n  api.createBook(book)\n    .then((data) => {\n      dispatch(success());\n      dispatch(addBook(data));\n    })\n    .catch(err => dispatch(failure(err.message)));\n};\n","const removeBookFromList = id => ({\n  type: 'REMOVE_BOOK',\n  payload: id,\n});\n\nexport const removeBook = (api, dispatch) => (id) => {\n  api.removeBook(id)\n    .then(() => {\n      dispatch(removeBookFromList(id));\n    })\n    .catch(err => alert(`Error: ${err}`));\n};\n","import { fetchBooks } from './fetch-books';\nimport { createBook } from './create-book';\nimport { removeBook } from './remove-book';\n\nexport const changeFilter = filter => ({\n  type: 'CHANGE_FILTER',\n  filter,\n});\n\nexport {\n  fetchBooks,\n  createBook,\n  removeBook,\n};\n","const ROOT_URL = 'https://mighty-mountain-40712.herokuapp.com';\nconst MAIN_URL = `${ROOT_URL}/api/v1/books`;\n\nexport { ROOT_URL, MAIN_URL };","import { MAIN_URL } from './config';\n\nexport const api = {\n  fetchBooks: async () => {\n    const response = await fetch(MAIN_URL, {\n      method: 'GET',\n    });\n\n    if (response.status !== 200) {\n      throw new Error('Books were not loaded.');\n    }\n\n    const books = await response.json();\n\n    return books;\n  },\n\n  createBook: async ({ title, category }) => {\n    const response = await fetch(MAIN_URL, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ title, category }),\n    });\n\n    if (response.status !== 200) {\n      throw new Error('Book was not created.');\n    }\n\n    const book = await response.json();\n\n    return book;\n  },\n\n  removeBook: async (bookId) => {\n    const response = await fetch(`${MAIN_URL}/${bookId}`, {\n      method: 'DELETE',\n    });\n\n    if (response.status !== 204) {\n      throw new Error('Book was not removed.');\n    }\n  },\n};\n","const categories = ['Action', 'Biography', 'History', 'Horror', 'Kids', 'Learning', 'Sci-Fi'];\n\nexport default categories;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport categories from '../sample-data/categories';\n\nconst CategoryFilter = ({ handleFilterChange, filter }) => (\n  <>\n    <span className=\"mr-3\">Filter by category:</span>\n    <select\n      className=\"custom-select w-auto my-3\"\n      value={filter}\n      onChange={e => handleFilterChange(e.target.value)}\n    >\n      <option value=\"\">All</option>\n      { categories.map(cat => (\n        <option value={cat} key={cat}>\n          {cat}\n        </option>\n      )) }\n    </select>\n  </>\n);\n\nCategoryFilter.propTypes = {\n  filter: PropTypes.string.isRequired,\n  handleFilterChange: PropTypes.func.isRequired,\n};\n\nexport default CategoryFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Book = ({ book, handleRemoveBook }) => (\n  <div className=\"card mb-3\">\n    <div className=\"card-body\">\n      <div className=\"text-secondary\">{book.category}</div>\n      <h4 className=\"card-title\">{ book.title }</h4>\n      <button\n        type=\"button\"\n        className=\"btn btn-link card-link p-0\"\n        onClick={() => handleRemoveBook(book.id)}\n      >\n        Remove\n      </button>\n    </div>\n  </div>\n);\n\nBook.propTypes = {\n  book: PropTypes.shape({\n    category: PropTypes.string,\n    title: PropTypes.string,\n    id: PropTypes.number,\n  }).isRequired,\n  handleRemoveBook: PropTypes.func.isRequired,\n};\n\nexport default Book;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { removeBook, changeFilter, fetchBooks } from '../actions';\nimport { api } from '../REST/api';\nimport CategoryFilter from '../components/CategoryFilter';\nimport Book from '../components/Book';\n\nclass BooksList extends Component {\n  componentDidMount() {\n    this.props.fetchBooks();\n  }\n\n  render() {\n    const {\n      filter,\n      loading,\n      error,\n      books,\n      removeBook: removeBookDispatch,\n      changeFilter: changeFilterDispatch,\n    } = this.props;\n\n    if (loading) {\n      return <p>Loading...</p>;\n    }\n\n    if (error) {\n      return <p>Some error occurred when loading books: { error }</p>;\n    }\n\n    if (books.length === 0) {\n      return <p>No books at the moment</p>;\n    }\n\n    return (\n      <>\n        <CategoryFilter\n          filter={filter}\n          handleFilterChange={changeFilterDispatch}\n        />\n        { books.map(book => (\n          <Book\n            book={book}\n            key={book.id}\n            handleRemoveBook={removeBookDispatch}\n          />\n        )) }\n      </>\n    );\n  }\n}\n\nBooksList.propTypes = {\n  books: PropTypes.arrayOf(PropTypes.object).isRequired,\n  removeBook: PropTypes.func.isRequired,\n  changeFilter: PropTypes.func.isRequired,\n  filter: PropTypes.string.isRequired,\n  fetchBooks: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ filter, booksList: { loading, error, books } }) => ({\n  filter,\n  loading,\n  error,\n  books: filter\n    ? books.filter(({ category }) => category === filter)\n    : books,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  changeFilter,\n  fetchBooks: fetchBooks(api, dispatch),\n  removeBook: removeBook(api, dispatch),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(BooksList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { connect } from 'react-redux';\nimport { createBook } from '../actions';\nimport { api } from '../REST/api';\nimport categories from '../sample-data/categories';\n\nclass BooksForm extends React.Component {\n  state = {\n    title: '',\n    category: '',\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { createBook: createBookDispatch } = this.props;\n\n    createBookDispatch(this.state);\n    this.setState({\n      title: '',\n      category: '',\n    });\n  }\n\n  render() {\n    const { title, category } = this.state;\n    const { loading, error } = this.props;\n\n    const errorMessage = error\n      ? <div className=\"alert alert-danger\">{error}</div>\n      : '';\n    const submitButton = loading\n      ? <button type=\"submit\" className=\"btn btn-primary flex-fill\" disabled>Adding...</button>\n      : <button type=\"submit\" className=\"btn btn-primary flex-fill\">Add Book</button>;\n\n    return (\n      <>\n        <h5 className=\"text-muted text-uppercase mb-3\">Add New Book</h5>\n        <form\n          className=\"form-inline justify-content-between mb-3\"\n          onSubmit={this.handleSubmit}\n        >\n          <input\n            name=\"title\"\n            className=\"form-control mr-3 flex-fill\"\n            type=\"text\"\n            placeholder=\"Title\"\n            value={title}\n            onChange={this.handleChange}\n            required\n          />\n          <select\n            name=\"category\"\n            className=\"form-control mr-3 flex-fill\"\n            value={category}\n            onChange={this.handleChange}\n            required\n          >\n            <option value=\"\" disabled>Category</option>\n            { categories.map(cat => (\n              <option value={cat} key={cat}>\n                {cat}\n              </option>\n            )) }\n          </select>\n          { submitButton }\n        </form>\n        { errorMessage }\n      </>\n    );\n  }\n}\n\nBooksForm.propTypes = {\n  createBook: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = ({ booksForm: { loading, error } }) => ({\n  loading,\n  error,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  createBook: createBook(api, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksForm);\n","import React from 'react';\n\nconst Header = () => (\n  <nav className=\"navbar navbar-expand-sm bg-white border-bottom\">\n    <div className=\"container\">\n\n      <h1 className=\"text-primary mr-4\" href=\"/\">Bookstore</h1>\n\n      <div className=\"navbar-nav mr-sm-auto\">\n        <a className=\"nav-item nav-link text-body\" href=\"/\">Books</a>\n      </div>\n\n    </div>\n  </nav>\n);\n\nexport default Header;\n","import React from 'react';\n\nimport BooksList from '../containers/BooksList';\nimport BooksForm from '../containers/BooksForm';\nimport Header from './Header';\n\nimport './App.css';\n\nconst App = () => (\n  <>\n    <Header />\n    <div className=\"container py-4\">\n      <BooksList />\n      <hr className=\"mt-5 mb-4\" />\n      <BooksForm />\n    </div>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDom from 'react-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers';\n\nimport App from './components/App';\n\nconst store = createStore(reducer);\n\nReactDom.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}